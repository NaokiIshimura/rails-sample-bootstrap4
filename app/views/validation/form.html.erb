<style>
  .field_with_errors {
  @extend .has-error;
    color: red;
  }

  .field_with_errors .form-control{
    border: 1px solid red;
  }
</style>

<% provide(:title, 'Validation Form') %>

<div class="col-md-8 col-md-offset-2">

  <div>

    <% if @info.present? %>
        <p class="" style="color: red;background-color: #f2dede">
          <%= @info %><br>
          <% @user.errors.full_messages.each do |e| %>
              <%= fa_icon 'check', text: e, right: false %><br>
          <% end %>
        </p>
    <% end %>

  </div>

  <h1>
    <%= fa_icon 'edit', text: 'Validation', right: false %>
    - Form -
  </h1>

  <hr>

  <%= form_with model: @user, url: validation_path, local: true do |f| %>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= f.label :name, "name", {class: "form-label"} %>
        </div>
        <div class="col-sm-10">
          <%= f.text_field :name, {class: "form-control"} %>

          <% @user.errors.messages[:name].each do |e| %>
              <p style="color: red">
                <%= fa_icon 'check', text: "name#{e}", right: false %>
              </p>
          <% end %>

        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= f.label :email, "email", {class: "form-label"} %>
        </div>
        <div class="col-sm-10">
          <%= f.text_field :email, {class: "form-control"} %>

          <% @user.errors.messages[:email].each do |e| %>
              <p style="color: red">
                <%= fa_icon 'check', text: "email#{e}", right: false %>
              </p>
          <% end %>

        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= f.label :age, "age", {class: "form-label"} %>
        </div>
        <div class="col-sm-10">
          <%= f.select :age,
                       options_for_select([
                                              [20],
                                              [21],
                                              [22],
                                          ]),
                       {prompt: "選択してください。"},
                       {class: "form-control", autofocus: true} %>

          <% @user.errors.messages[:age].each do |e| %>
              <p style="color: red">
                <%= fa_icon 'check', text: "age#{e}", right: false %>
              </p>
          <% end %>

        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
          <%= f.label :gender, "gender", {class: "form-label"} %>
        </div>
        <div class="col-sm-10">
          <%= f.radio_button :gender, 0, {checked: true} %> male
          <%= f.radio_button :gender, 1, {} %> female

          <% @user.errors.messages[:gender].each do |e| %>
              <p style="color: red">
                <%= fa_icon 'check', text: "gender#{e}", right: false %>
              </p>
          <% end %>

        </div>
      </div>


      <div class="form-group row">
        <div class="col-sm-2">
          <%= f.label :agreement, "agreement", {class: "form-label"} %>
        </div>
        <div class="col-sm-10">
          <%= f.check_box :agreement, {class: ''} %>

          <% @user.errors.messages[:agreement].each do |e| %>
              <p style="color: red">
                <%= fa_icon 'check', text: "agreement#{e}", right: false %>
              </p>
          <% end %>

        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-2">
        </div>
        <div class="col-sm-10">
          <%= button_tag class: "btn btn-primary" do %>
              <%= fa_icon 'edit', text: 'Submit', right: false %>
          <% end %>
        </div>
      </div>

  <% end %>
</div>
